<!DOCTYPE html>
<html lang="en" data-theme="system">
<head>
  <meta charset="utf-8" />
  <title>mrpack upgrader for Modrinth</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <link rel="icon" type="image/png" href="favicon.png">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <!-- Floating theme switcher -->
  <div class="theme-switch" role="group" aria-label="Theme switcher">
    <button id="theme-system" class="theme-btn" title="System (follow OS)" aria-label="System theme">ğŸ–¥ï¸</button>
    <button id="theme-light" class="theme-btn" title="Light" aria-label="Light theme">â˜€ï¸</button>
    <button id="theme-dark" class="theme-btn" title="Dark" aria-label="Dark theme">ğŸŒ™</button>
  </div>

  <h1>Modrinth mrpack â†’ version availability</h1>

  <div class="controls">
    <div>
      <label for="file">mrpack/zip:&nbsp;</label>
      <input type="file" id="file" accept=".mrpack,.zip" />
    </div>
    
    <div class="control-row">
      <label for="mc">Target MC:&nbsp;</label>
      <select id="mc" disabled><option>Loadingâ€¦</option></select>
      <label for="loader">Loader:&nbsp;</label>
      <select id="loader">
        <option value="fabric" selected>fabric</option>
        <option value="quilt">quilt</option>
        <option value="forge">forge</option>
        <option value="neoforge">neoforge</option>
      </select>
      <button id="run">Check</button>
    </div>
    
    <div class="control-row">
      <button id="build" disabled>Build updated .mrpack</button>
      <a id="downloadLink" class="small" style="display:none;">Download ready</a>
      <span id="buildNote" class="small muted"></span>
    </div>
  </div>

  <div style="margin-top:1rem;">
    <div id="summary" class="counts muted"></div>
    <div class="bar"><span id="bar"></span></div>
    <div class="status">
      <strong id="phase">Idle</strong>
      <small id="detail"></small>
    </div>
  </div>

  <div id="results" style="margin-top:1rem;">
    <h2>Mods</h2>
    <div id="mods-table"></div>

    <h2>Resource Packs</h2>
    <div id="res-table"></div>

    <h2>Shaders</h2>
    <div id="shader-table"></div>
  </div>

  <details style="margin-top:1rem;">
    <summary>Raw results (debug)</summary>
    <pre id="raw"></pre>
  </details>
  
  <script src="./jszip-dist/jszip.min.js"></script>
  <script src="script.js"></script>
</body>
</html>